<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bilim testi</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    }
    .card {
      background: #fff;
      width: 95%;
      max-width: 420px;
      padding: 24px;
      border-radius: 16px;
      box-shadow: 0 15px 40px rgba(0,0,0,.3);
      animation: fadeIn .5s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(.95); }
      to { opacity: 1; transform: scale(1); }
    }
    h1 {
      text-align: center;
      margin-bottom: 10px;
    }
    .info {
      text-align: center;
      margin-bottom: 15px;
      font-size: 14px;
      color: #444;
    }
    .question {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 15px;
    }
    .option {
      padding: 16px;
      margin-bottom: 10px;
      border-radius: 12px;
      background: #f1f1f1;
      cursor: pointer;
      font-size: 16px;
      transition: all .2s ease;
    }
    .option:hover { background: #e2e2e2; }
    .option.correct {
      background: #2ecc71;
      color: #fff;
      animation: pulse .4s ease;
    }
    .option.wrong {
      background: #e74c3c;
      color: #fff;
      animation: shake .4s ease;
    }
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
      100% { transform: translateX(0); }
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    button {
      width: 100%;
      padding: 16px;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      background: #27ae60;
      color: #fff;
      cursor: pointer;
      margin-top: 10px;
      display: none;
    }
    button:hover { background: #219150; }
    .result {
      text-align: center;
      font-size: 20px;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>ðŸ§  Bilim testi</h1>
    <div class="info" id="info"></div>
    <div class="question" id="question"></div>
    <div id="options"></div>
    <button id="nextBtn">Keyingi savol</button>
  </div>

<script>
const questions = [
  { q: "Oâ€˜zbekiston poytaxti?", a: ["Samarqand","Toshkent","Buxoro","Xiva"], c: 1 },
  { q: "Eng katta okean?", a: ["Atlantika","Hind","Tinch","Shimoliy Muz"], c: 2 },
  { q: "Yer Quyosh atrofida necha kunda aylanadi?", a: ["360","365","300","400"], c: 1 },
  { q: "HTML nimani anglatadi?", a: ["Hyper Text Markup Language","High Text","Home Tool","None"], c: 0 }
];

let index = 0;
let score = 0;
let locked = false;

const info = document.getElementById('info');
const questionEl = document.getElementById('question');
const optionsEl = document.getElementById('options');
const nextBtn = document.getElementById('nextBtn');

function loadQuestion() {
  locked = false;
  nextBtn.style.display = 'none';
  optionsEl.innerHTML = '';

  if (index >= questions.length) {
    questionEl.innerHTML = "Test tugadi!";
    optionsEl.innerHTML = `<div class='result'>Ball: ${score} / ${questions.length}<br>Foiz: ${Math.round(score/questions.length*100)}%</div>`;
    info.innerHTML = '';
    return;
  }

  info.innerHTML = `Savol ${index+1} / ${questions.length}`;
  questionEl.textContent = questions[index].q;

  questions[index].a.forEach((text, i) => {
    const div = document.createElement('div');
    div.className = 'option';
    div.textContent = text;
    div.onclick = () => checkAnswer(div, i);
    optionsEl.appendChild(div);
  });
}

function checkAnswer(el, i) {
  if (locked) return;
  locked = true;

  const correct = questions[index].c;

  if (i === correct) {
    el.classList.add('correct');
    score++;
    navigator.vibrate?.(100);
  } else {
    el.classList.add('wrong');
    optionsEl.children[correct].classList.add('correct');
    navigator.vibrate?.([200,100,200]);
  }
  nextBtn.style.display = 'block';
}

nextBtn.onclick = () => {
  index++;
  loadQuestion();
};

loadQuestion();
</script>
</body>
</html>
